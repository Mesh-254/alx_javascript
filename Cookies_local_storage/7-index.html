<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cookies-Basics</title>
    <style>
      body {
        display: flex;
        align-items: flex-start;
        flex-direction: column;
        padding-left: 10px;
      }
    </style>
  </head>

  <body>
    <h2>Available Products</h2>
    <script>
      //  array of available items
      const availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

      //Checking if session storage is  enabled on your browser
      if (typeof sessionStorage === undefined) {
        alert(
          "Sorry, your browser does not support Web storage. Try again with a better one"
        );
      } else {
        // if enabled call these functions
        // createStore();
        // displayCart();
      }

      // function to parse a string into a JSON object, and return content of the cart stored in Session storage
      function getCartFromStorage() {
        const cart = sessionStorage.getItem("cart");
        if (cart) {
          // Parse the JSON string into an object
          const cartJSON = JSON.parse(cart);
          return cartJSON;
        } else {
          // If there is no cart, return an empty object
          return (Obj = {});
        }
      }

      // function to add items to cart
      function addItemToCart(item) {
        // Get the current cart from session storage
        const cart = getCartFromStorage();

        // Check if the item is already in the cart
        if(cart[item]){
            cart[item] +=1;
        }else{
          // Add new item and set quantity as 'quantity' : 1
          cart[item] = 1;
        }
        // Store updated cart back to sessionstorage
        sessionStorage.setItem('cart', JSON.stringify(cart));

        // a call to displaycart function
        // displayCart();
      }
      addItemToCart("Item 2");

      // function to remove items
      function removeItemfromCart(item){
        // remove item from cart 
        const cart=getCartFromStorage();

        // check if item exists before removing it
        if(cart[item]){
          //remove item
          delete cart[item];
          sessionStorage.setItem('cart', JSON.stringify(cart));
        }else{
          //if not exist do nothing
          alert("No such product found")
        }

        // call to function displayCart
        displayCart();
      }

      // function to clear the entire Session storage
      function clearCart(){
        const cart = getCartFromStorage();
        sessionStorage.removeItem('cart');


        // displayCart();
      }

      clearCart();




      





    </script>
  </body>
</html>
